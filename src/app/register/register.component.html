<!-- <div class="register-page">
  <div class="register-container">
    <h2>Create an Account</h2>
    <form #registerForm="ngForm" (ngSubmit)="registerUser(registerForm)">

      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" placeholder="Enter your name" required [(ngModel)]="name">
      </div>
      <div class="form-group">
        <label for="contact">Contact Number</label>
        <input type="text" id="contact" name="contact" placeholder="Enter your contact number" required pattern="[0-9]{10}" [(ngModel)]="contactNumber">
        <small class="error-message">Please enter a 10-digit contact number.</small>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" [(ngModel)]="email">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password" required minlength="8" [(ngModel)]="password">

      </div>
      <div class="form-group">
        <label for="role">Role</label>
        <select id="role" name="role" style="height: 30px; width: 400px" [(ngModel)]="role">
          <option value="admin">ADMIN</option>
          <option value="doctor">DOCTOR</option>
        </select>
      </div>
      <div class="form-group" *ngIf="role === 'admin'">
        <label for="adminKey">Admin Key</label>
        <input type="password" id="adminKey" name="adminKey" placeholder="Enter the admin key" required [(ngModel)]="adminKey">
        <small class="error-message" *ngIf="role === 'admin' && adminKey !== 'pmsadmin'">Incorrect admin key.</small>
      </div>

      <button type="submit" class="btn-register">Register</button>
    </form>
    <p class="login-link">Already have an account? <a href="/login">Login</a></p>
  </div>
</div> -->



<!-- <body>
<div class="register-page">
  <div class="register-container">
    <h2>Create New Account</h2>
    <form #registerForm="ngForm" (ngSubmit)="registerUser(registerForm)">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" placeholder="Enter your name" required [(ngModel)]="user.name">
      </div>
      <div class="form-group">
        <label for="contact">Contact Number</label>
        <input type="text" id="contact" name="contact" placeholder="Enter your contact number" required minlength="10" [(ngModel)]="user.contactno">
        <small class="error-message">Please enter a 10-digit contact number.</small>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" [(ngModel)]="user.email">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password" required minlength="8" [(ngModel)]="user.password">
      </div>
      <div class="form-group">
        <label for="role">Role</label>
        <select id="role" name="role" style="height: 30px; width: 350px" [(ngModel)]="user.roles">
          <option value="ADMIN">ADMIN</option>
          <option value="DOCTOR">DOCTOR</option>
          
        </select>
        
      </div>
      <div class="form-group" *ngIf="user.roles === 'admin'">
        <label for="adminKey">Admin Key</label>
        <input type="password" id="adminKey" name="adminKey" placeholder="Enter the admin key" required [(ngModel)]="adminKey">
        <small class="error-message" *ngIf="adminKeyError">Incorrect admin key.</small>
      </div>
      
      <button type="submit" class="btn-register">Register</button>
    </form>
    <p class="login-link">Already have an account? <a href="/login">Login</a></p>
  </div>
</div>
</body> -->


<!-- <section class="vh-78" style="background-color: #eee;">
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-12 col-xl-11">
        <div class="card text-black" style="border-radius: 25px;">
          <div class="card-body p-md-5">
            <div class="row justify-content-center">
              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Sign up</p>

                <form class="mx-1 mx-md-4" #registerForm="ngForm" (ngSubmit)="registerUser(registerForm)">

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="Name">Your Name</label>
                      <input type="text" id="name" name="name" placeholder="Enter your name" required [(ngModel)]="user.name" class="form-control" >
                     
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="form3Example3c">Your Email</label>
                      <input
                        class="form-control"
                        type="email"
                        id="email"
                        name="email"
                        placeholder="Enter your email"
                        required
                        pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                        [(ngModel)]="user.email"
                        #emailInput="ngModel"
                      />
                    </div>
                  </div>
                
                  
                  <div *ngIf="emailInput.invalid && emailInput.touched" class="text-danger">
                    Please enter a valid email address.
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="form3Example4c">Password</label>
                      <input
                        class="form-control"
                        type="password"
                        id="password"
                        name="password"
                        placeholder="Enter your password"
                        required
                        minlength="8"
                        [(ngModel)]="user.password"
                        #passwordInput="ngModel"
                      />
                    </div>
                  </div>
                  <div *ngIf="passwordInput.invalid && passwordInput.touched" class="text-danger">
                    Password is required and must be at least 8 characters long.
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-key fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="form3Example4cd">Repeat your password</label>
                      <input
                        type="password"
                        id="form3Example4cd"
                        class="form-control"
                        required
                        [(ngModel)]="confirmPassword"
                        placeholder="Enter Password Again"
                        name="confirmPassword"
                        #confirmPasswordInput="ngModel"
                      />
                    </div>
                  </div>
                  <div *ngIf="password && confirmPassword && password !== confirmPassword" class="error">Passwords do not match.</div>
                  <div *ngIf="confirmPasswordInput.invalid && confirmPasswordInput.touched" class="text-danger">
                    Passwords do not match.
                  </div>
                  
                  <div class="form-group">
                    <label for="role">Role</label>
                    <select id="role" name="role" style="height: 30px; width: 320px" [(ngModel)]="user.roles">
                      <option value="ADMIN">ADMIN</option>
                      <option value="DOCTOR">DOCTOR</option>
                      
                    </select>
                    
                  </div>
                  
                  <input class="form-check-input me-5" type="checkbox" value="" id="form2Example3c" />
                  <div class="form-check d-flex justify-content-center mb-5">
                    
                    <label class="form-check-label" for="form2Example3">
                      I agree all statements in <a href="#!">Terms of service</a>
                    </label>
                  </div>

                  <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                    <button type="button" type="submit" class="btn btn-primary btn-lg">Register</button>
                  </div>

                 
                
                 


                </form>

              </div>
              <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">

                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp"
                  class="img-fluid" alt="Sample image">

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> -->


<div class="register-container">
  <h2>Register</h2>
  <form class="register-form" #registerForm="ngForm" (ngSubmit)="registerUser(registerForm)">
    <!-- Email field -->
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" [(ngModel)]="email" required email>
      <div *ngIf="registerForm.controls['email'].touched && registerForm.controls['email'].hasError('required')" class="error">
        Email is required.
      </div>
      <div *ngIf="registerForm.controls['email'].touched && registerForm.controls['email'].hasError('email')" class="error">
        Please enter a valid email address.
      </div>
    </div>

    <!-- Username field -->
    <div class="form-group">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" [(ngModel)]="name" required>
      <div *ngIf="registerForm.controls['username'].touched && registerForm.controls['username'].hasError('required')" class="error">
        Username is required.
      </div>
    </div>

    <!-- Password field -->
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" [(ngModel)]="password" required>
      <div *ngIf="registerForm.controls['password'].touched && registerForm.controls['password'].hasError('required')" class="error">
        Password is required.
      </div>
    </div>

    <!-- Confirm Password field -->
    <div class="form-group">
      <label for="confirmPassword">Confirm Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword" required>
      <div *ngIf="registerForm.controls['confirmPassword'].touched && registerForm.controls['confirmPassword'].hasError('required')" class="error">
        Confirm Password is required.
      </div>
      <div *ngIf="registerForm.controls['confirmPassword'].touched && registerForm.controls['confirmPassword'].hasError('passwordMismatch')" class="error">
        Passwords do not match.
      </div>
    </div>

    <!-- Role field -->
    <div class="form-group">
      <label for="role">Role</label>
      <select id="role" name="role" style="height: 30px; width: 320px" [(ngModel)]="roles" required>
        <option value="ADMIN">ADMIN</option>
        <option value="DOCTOR">DOCTOR</option>
      </select>
      <div *ngIf="registerForm.controls['role'].touched && registerForm.controls['role'].hasError('required')" class="error">
        Role is required.
      </div>
    </div>

    <!-- Submit button -->
    <button type="submit" class="btn-register" [disabled]="!registerForm.valid">Register</button>
  </form>

  <div *ngIf="!errorflag">
    <p class="text-success">{{ successmsg }}</p>
  </div>
</div>
